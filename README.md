# ๐ ROFGCDC Backend API

**ูุธุงู ุฎููู (Backend) ูุฅุฏุงุฑุฉ ูุชุญุณูู ูุณุงุฑุงุช ุฌูุน ุงูููุงูุงุช ูู ูุฏููุฉ ุฏูุดู.**

ุชู ุจูุงุก ูุฐุง ุงููุดุฑูุน ุจุงุณุชุฎุฏุงู **Django** ู **Django Rest Framework** ูุชูููุฑ ุญููู ุฐููุฉ ููุจูุฏูุงุชุ ุชูุฏู ุฅูู ุชูููู ุงูุชูุงููู ุงูุชุดุบูููุฉ ูุชุญุณูู ููุงุกุฉ ุฌูุน ุงูููุงูุงุช ูู ุฎูุงู ุฎูุงุฑุฒููุงุช ุชูุฌูู ุงููุฑูุจุงุช (VRP).

## ๐ ุฌุฏูู ุงููุญุชููุงุช

* [ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ](#-ุงูููุฒุงุช-ุงูุฑุฆูุณูุฉ)
* [ุงููุชุทูุจุงุช ุงููุณุจูุฉ](#-ุงููุชุทูุจุงุช-ุงููุณุจูุฉ)
* [ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ](#-ุงูุชุซุจูุช-ูุงูุฅุนุฏุงุฏ)
* [ุชุดุบูู ุฎุฏูุฉ OSRM](#-ุชุดุบูู-ุฎุฏูุฉ-osrm-ูุงู)

## โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1๏ธโฃ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงููุตุงุฏูุฉ (Authentication & RBAC)

* **ุฃุฏูุงุฑ ูุชุนุฏุฏุฉ:**
  * `Admin`: ุชุญูู ูุงูู ูุฅุญุตุงุฆูุงุช.
  * `Planner`: ุฅูุดุงุก ุงูุฎุทุท ูุงูุณููุงุฑูููุงุช.
  * `Driver`: ุงุณุชุนุฑุงุถ ุงููุณุงุฑุงุช ูุชูููุฐ ุงูููุงู.
* **ุฃูุงู ุนุงูู:** ุชุณุฌูู ุฏุฎูู ุนุจุฑ **JWT** (HttpOnly Cookies).
* **ุงูุชุญูู:** ุชูุนูู ุงูุญุณุงุจุงุช ูุงุณุชุนุงุฏุฉ ูููุฉ ุงููุฑูุฑ ุนุจุฑ **OTP** (ุงูุจุฑูุฏ ุงูุฅููุชุฑููู).

### 2๏ธโฃ ุฎูุงุฑุฒููุงุช ุงูุชุญุณูู (Route Optimization)

* ุญู ูุดููุงุช ุชูุฌูู ุงููุฑูุจุงุช (**VRP**) ุจุงุณุชุฎุฏุงู **Google OR-Tools**.
* ุชูุงูู ูุน **OSRM** ูุญุณุงุจ ุฏููู ูููุณุงูุงุช ูุงูุฃุฒููุฉ ุงูุญููููุฉ ููููุงุฏุฉ.
* ุชูููุฏ ูุณุงุฑุงุช ุจูุงุกู ุนูู ููุงูุน ุงูุญุงููุงุชุ ุณุนุฉ ุงููุฑูุจุงุชุ ูููุงุท ุงูุชูุฑูุบ (ุงููุทุงูุฑ).

### 3๏ธโฃ ุฅุฏุงุฑุฉ ุงูุฃุตูู (Assets Management)

* ุฅุฏุงุฑุฉ **ุงูุญุงููุงุช** (ุงูุฅุญุฏุงุซูุงุชุ ุงูุณุนุฉ).
* ุฅุฏุงุฑุฉ **ุฃุณุทูู ุงููุฑูุจุงุช** (ููุงุท ุงูุงูุทูุงูุ ุงูุญูููุฉ).
* ุชุญุฏูุฏ **ุงููุทุงูุฑ ูุงูุจูุฏูุงุช**.
* **Geofencing:** ุงูุชุญูู ูู ูููุน ุงูุฅุญุฏุงุซูุงุช ุถูู ุงููุทุงู ุงูุฌุบุฑุงูู ููุฏููุฉ ุฏูุดู.

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

| ุงูุชูููุฉ | ุงููุตู |
| :--- | :--- |
| **Python 3.10+** | ูุบุฉ ุงูุจุฑูุฌุฉ ุงูุฃุณุงุณูุฉ |
| **Django 5.2** | ุฅุทุงุฑ ุนูู ุงูููุจ |
| **Django Rest Framework** | ุจูุงุก ุงูู APIs |
| **PostgreSQL** | ูุงุนุฏุฉ ุงูุจูุงูุงุช |
| **Google OR-Tools** | ุฎูุงุฑุฒููุงุช ุงูุชุญุณูู (VRP) |
| **OSRM** | ุฎุฏูุฉ ุงูุฎุฑุงุฆุท ูุญุณุงุจ ุงููุณุงูุงุช |
| **Docker** | ูุชุดุบูู ุญุงููุฉ OSRM |

## ๐ ุงููุชุทูุจุงุช ุงููุณุจูุฉ

ุชุฃูุฏ ูู ุชุซุจูุช ุงูุฃุฏูุงุช ุงูุชุงููุฉ ุนูู ุฌูุงุฒู:

1. [Python 3.10+](https://www.python.org/downloads/)
2. [PostgreSQL](https://www.postgresql.org/download/)
3. [Docker](https://www.docker.com/) (ูุชุดุบูู ุฎุฏูุฉ ุงูุฎุฑุงุฆุท OSRM).

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน

```bash
git clone [https://github.com/username/ROFGCDC_Backend.git](https://github.com/username/ROFGCDC_Backend.git)
cd ROFGCDC_Backend
```
### 2. ุงูุดุงุก ุงูุจูุฆุฉ ูุชูุนูููุง
```bash
python -m venv venv
.\venv\Scripts\activate
```
### 3. ุชุซุจูุช ุงูููุชุจุงุช
```bash
pip install -r requirements.txt
```
### 4. ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ (.env)
ูู ุจุฅูุดุงุก ููู .env ูู ุงููุฌูุฏ ุงูุฌุฐุฑู ูููุดุฑูุน ูุฃุถู ุงูุฅุนุฏุงุฏุงุช ุงูุชุงููุฉ:
```bash
# ุฅุนุฏุงุฏุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (Gmail SMTP)
EMAIL_HOST_USER=example@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
DB_NAME=ROFGCIDC
DB_USER=postgres
DB_PASSWORD=your_db_password
DB_HOST=localhost
DB_PORT=5432
```
### 5. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุฅูุดุงุก ุงูุฌุฏุงูู
python manage.py migrate

# ุฅูุดุงุก ูุณุชุฎุฏู ูุณุคูู (Superuser)
python manage.py createsuperuser
```

### 6. ุชุดุบูู ุงูุฎุงุฏู
```bash
python manage.py runserver
```

## ๐ก ุชุดุบูู ุฎุฏูุฉ OSRM (ูุงู)
ูุนุชูุฏ ุงููุธุงู ุนูู ุฎุงุฏู OSRM ูุญูู ูุญุณุงุจ ูุตูููุฉ ุงููุณุงูุงุช. ุจุฏูููุ ูู ุชุนูู ููุฒุฉ ุงูุชุญุณูู.

ุจุงุณุชุฎุฏุงู Docker:
```bash
# ุชุฃูุฏ ูู ูุฌูุฏ ููู ุฎุฑูุทุฉ ุณูุฑูุง (syria-latest.osrm) ูู ุงููุฌูุฏ ุงูุญุงูู
docker run -t -i -p 5000:5000 -v "${PWD}:/data" osrm/osrm-backend osrm-routed --algorithm mld /data/syria-latest.osrm
```
